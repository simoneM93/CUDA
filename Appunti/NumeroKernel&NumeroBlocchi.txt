NumBlock = (dim + blocksize -1)/blocksize
NumKernel = blocksize
